<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Firebase Live Messages</title>

  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>
<body>

<p id="mxy"></p>

<div id="mb"></div>

<style>
#mb{
  height: 50px;
  width: 50px;
  background-color: rgba(160, 247, 247, 0.5);
  border: solid black 3px;
  border-radius: 100px;

}

</style>
<script>
firebase.initializeApp({
  apiKey: "AIzaSyDvCoFrxTR4ytDVLBpiMArHzdc_AiYBkMU",
  authDomain: "hyper-e2e9f.firebaseapp.com",
  databaseURL: "https://hyper-e2e9f-default-rtdb.firebaseio.com",
  projectId: "hyper-e2e9f",
  storageBucket: "hyper-e2e9f.firebasestorage.app",
  messagingSenderId: "995423221322",
  appId: "1:995423221322:web:20be1f7e6f4827134798b3"
});

const ref = firebase.database().ref("cursor");
const mb = document.getElementById("mb");

let x = 0, y = 0;

// Send (once per frame)
document.addEventListener("mousemove", e => {
  x = e.clientX - 34;
  y = e.clientY - 29;
}, { passive: true });

function send() {
  ref.set({ x, y });
  requestAnimationFrame(send);
}
requestAnimationFrame(send);

// Receive
ref.on("value", s => {
  const p = s.val();
  if (!p) return;
  mb.style.transform = `translate3d(${p.x}px, ${p.y}px, 0)`;
});
</script>


</body>
</html>

