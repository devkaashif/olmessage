<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Firebase Live Messages</title>

  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>
<body>

<div id="mp"></div>

<style>#mp{
  background-color: rgba(196, 53, 196, 0.3);
  height: 50px;
  width: 50px;
  border-radius: 50px;
  border: solid 2px black;
  position: absolute;
  top: 0;
  left: 0;
}</style>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyDvCoFrxTR4ytDVLBpiMArHzdc_AiYBkMU",
  authDomain: "hyper-e2e9f.firebaseapp.com",
  databaseURL: "https://hyper-e2e9f-default-rtdb.firebaseio.com",
  projectId: "hyper-e2e9f",
  storageBucket: "hyper-e2e9f.firebasestorage.app",
  messagingSenderId: "995423221322",
  appId: "1:995423221322:web:20be1f7e6f4827134798b3"
});

var db = firebase.database().ref("messages");
const mp = document.getElementById("mp");

document.addEventListener('touchmove', function(event) {
  db.set({
    x: event.touches[0].clientX - 25,
    y: event.touches[0].clientY - 25
  });
});

document.addEventListener('mousemove', function(event) {
  db.set({
    x: event.clientX - 25,
    y: event.clientY - 25
  });
});

db.on('value', function(data) {
  mp.style.top = data.val().y + 'px';
  mp.style.left = data.val().x + 'px';
});

</script>

</body>
</html>

